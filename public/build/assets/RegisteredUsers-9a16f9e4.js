import{r as i,v as b,c as g,w as o,x as N,y as k,o as u,a as n,j as a,h as w,V as z,b as f,z as C,t as r,k as v,A as D,F as R,B,C as h,D as U,E as x,u as F,i as P}from"./app-ad5c53d7.js";import{_ as E}from"./PageHeader-cd8f05dc.js";function L(m){return new Date(m).toLocaleString("en-GB",{day:"2-digit",year:"numeric",month:"2-digit"})}const M={class:"v-col-12"},S=a("th",{class:"text-left text-capitalize"},"First Name",-1),T=a("th",{class:"text-left text-capitalize"},"Last Name",-1),Y=a("th",{class:"text-left text-capitalize"},"Email",-1),A=a("th",{class:"text-left text-capitalize"},"Mobile Number",-1),j={class:"text-left text-capitalize"},G=a("div",{class:"v-col-12"},null,-1),H={__name:"RegisteredUsers",setup(m){const V=F(),c=k(),l=i({loading:!1,data:[]}),_=i(0),y=i(0),s=i(c.params&&c.params.page?c.params.page:1),p=async d=>{l.value.loading=!0,await axios.get("/admin/user/registered?page="+d).then(e=>{console.log("res",e),_.value=e.data.last_page,s.value=e.data.current_page,y.value=e.data.total,l.value.data=e.data.data,l.value.loading=!1}).catch(e=>{l.value.loading=!1,console.log(e)})};return p(s.value),b(s,(d,e)=>{d!=e&&(V.push({name:"PaginatedRegisteredUsers",params:{page:s.value}}).catch(t=>{}),p(s.value))}),(d,e)=>(u(),g(N,null,{default:o(()=>[n(E,{title:"Registered Users"}),n(x,{class:"mb-3"},{default:o(()=>[a("div",M,[n(w,{loading:l.value.loading},{default:o(()=>[n(z,{class:"text-primary text-capitalize"},{default:o(()=>[f("Users")]),_:1}),n(C,{density:"compact"},{default:o(()=>[a("thead",null,[a("tr",null,[S,T,Y,A,a("th",j,r("Date (DD/MM/YYY)"),1)])]),a("tbody",null,[(u(!0),v(R,null,D(l.value.data,t=>(u(),v("tr",{key:t.id},[a("td",null,r(t.first_name),1),a("td",null,r(t.last_name),1),a("td",null,r(t.email),1),a("td",null,r(t.phone_no),1),a("td",null,r(P(L)(t.created_at)),1)]))),128))])]),_:1}),l.value.data.length==0?(u(),g(B,{key:0,class:"pa-3 text-center w-100"},{default:o(()=>[f("No records found")]),_:1})):h("",!0)]),_:1},8,["loading"]),_.value>1?(u(),g(U,{key:0,modelValue:s.value,"onUpdate:modelValue":e[0]||(e[0]=t=>s.value=t),class:"my-4",length:_.value,"total-visible":8,variant:"elevated","active-color":"primary",density:"comfortable"},null,8,["modelValue","length"])):h("",!0)])]),_:1}),n(x,null,{default:o(()=>[G]),_:1})]),_:1}))}};export{H as default};
